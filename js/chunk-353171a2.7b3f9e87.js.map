{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?9126","webpack:///./src/pages/auth/UserAuth.vue?d866"],"names":["class","_createElementVNode","for","_createElementBlock","_createVNode","_component_BaseDialog","show","$data","title","onClose","$options","fixed","_component_BaseSpinner","_component_BaseCard","onSubmit","_hoisted_2","type","id","$event","_hoisted_4","_hoisted_5","_component_BaseButton","mode","onClick","data","email","password","formIsValid","isLoading","error","computed","submitButtonCaption","this","switchModeButtonCaption","methods","submitForm","includes","length","actionPayload","$store","dispatch","redirectURL","$route","query","redirect","$router","replace","message","switchAuthMode","handleError","__exports__","render"],"mappings":"sPAcaA,MAAM,gB,uBACTC,eAAiC,SAA1BC,IAAI,SAAQ,UAAM,M,GAItBF,MAAM,gB,uBACTC,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,M,yLAnBtCC,eAkCM,YAjCJC,eAKCC,EAAA,CAJEC,OAAQC,QACTC,MAAM,qBACLC,QAAOC,eAHV,C,wBAIG,iBAAW,+BAARH,SAAK,O,KAJX,sBAMAH,eAEaC,EAAA,CAFAC,KAAMC,YAAWC,MAAM,oBAAoBG,MAAA,IAAxD,C,wBACE,iBAAe,CAAfP,eAAeQ,O,KADjB,YAGAR,eAuBWS,EAAA,M,wBAtBT,iBAqBO,CArBPZ,eAqBO,QArBAa,SAAM,8CAAUJ,gDAAU,eAAjC,CAEET,eAGM,MAHN,EAGM,CAFJc,EAEI,eADJd,eAAsD,SAA/Ce,KAAK,QAAQC,GAAG,Q,qDAAsBV,QAAKW,KAAlD,mBAA6CX,gB,MAAd,QAGjCN,eAGM,MAHN,EAGM,CAFJkB,EAEI,eADJlB,eAA+D,SAAxDe,KAAK,WAAWC,GAAG,W,qDAAyBV,WAAQW,KAA3D,mBAAmDX,mB,MAAd,QAG7BA,cAAV,uBAAUA,iBAAVJ,eAGI,IAAAiB,EAHmB,oFAKvBhB,eAAkDiB,EAAA,M,wBAAtC,iBAAyB,+BAAtBX,uBAAmB,O,MAClCN,eAEeiB,EAAA,CAFHL,KAAK,SAASM,KAAK,OAAQC,QAAOb,kBAA9C,C,wBAA8D,iBAE5D,+BADAA,2BAAuB,O,KADzB,gBAlBF,Q,wBA2BS,G,kDAAA,CACbc,KADa,WAEX,MAAO,CACLC,MAAO,GACPC,SAAU,GACVC,aAAa,EACbL,KAAM,QACNM,WAAW,EACXC,MAAO,OAGXC,SAAU,CACRC,oBADQ,WAEN,MAAkB,UAAdC,KAAKV,KAAyB,QACtB,UAEdW,wBALQ,WAMN,MAAkB,UAAdD,KAAKV,KAAyB,iBACtB,kBAGhBY,QAAS,CACDC,WADC,WACY,mKACjB,EAAKR,aAAc,EAEF,KAAf,EAAKF,OACJ,EAAKA,MAAMW,SAAS,QACrB,EAAKV,SAASW,OAAS,GALR,uBAOf,EAAKV,aAAc,EAPJ,6BAUjB,EAAKC,WAAY,EAEXU,EAAgB,CAAEb,MAAO,EAAKA,MAAOC,SAAU,EAAKA,UAZzC,SAcG,WAAd,EAAKJ,KAdM,kCAeP,EAAKiB,OAAOC,SAAS,SAAUF,GAfxB,iDAiBP,EAAKC,OAAOC,SAAS,QAASF,GAjBvB,QAmBTG,EACJ,kBAAoB,EAAKC,OAAOC,MAAMC,UAAY,WACpD,EAAKC,QAAQC,QAAQL,GArBN,qDAuBf,EAAKZ,MAAQ,KAAMkB,SAAW,qCAvBf,QAyBjB,EAAKnB,WAAY,EAzBA,6DA2BnBoB,eA5BO,WA6Ba,UAAdhB,KAAKV,KAAkBU,KAAKV,KAAO,SAClCU,KAAKV,KAAO,SAEnB2B,YAhCO,WAiCLjB,KAAKH,MAAQ,S,iCCtFnB,MAAMqB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,oCCTf","file":"js/chunk-353171a2.7b3f9e87.js","sourcesContent":["<template>\r\n  <div>\r\n    <BaseDialog\r\n      :show=\"!!error\"\r\n      title=\"An error occurred.\"\r\n      @close=\"handleError\"\r\n      >{{ error }}</BaseDialog\r\n    >\r\n    <BaseDialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\r\n      <BaseSpinner />\r\n    </BaseDialog>\r\n    <BaseCard>\r\n      <form @submit.prevent=\"submitForm\">\r\n        <!-- EMAIL -->\r\n        <div class=\"form-control\">\r\n          <label for=\"email\">E-Mail</label>\r\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\r\n        </div>\r\n        <!-- PASSWORD -->\r\n        <div class=\"form-control\">\r\n          <label for=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\r\n        </div>\r\n        <!-- error -->\r\n        <p v-if=\"!formIsValid\">\r\n          Please enter a valid email and password (must be at least 6 characters\r\n          long).\r\n        </p>\r\n        <!-- LOGIN & SIGNUP BUTTONs -->\r\n        <BaseButton>{{ submitButtonCaption }}</BaseButton>\r\n        <BaseButton type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{\r\n          switchModeButtonCaption\r\n        }}</BaseButton>\r\n      </form>\r\n    </BaseCard>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      formIsValid: true,\r\n      mode: 'login',\r\n      isLoading: false,\r\n      error: null,\r\n    };\r\n  },\r\n  computed: {\r\n    submitButtonCaption() {\r\n      if (this.mode === 'login') return 'Login';\r\n      else return 'Signup';\r\n    },\r\n    switchModeButtonCaption() {\r\n      if (this.mode === 'login') return 'Signup Instead';\r\n      else return 'Login Instead';\r\n    },\r\n  },\r\n  methods: {\r\n    async submitForm() {\r\n      this.formIsValid = true;\r\n      if (\r\n        this.email === '' ||\r\n        !this.email.includes('@') ||\r\n        this.password.length < 6\r\n      ) {\r\n        this.formIsValid = false;\r\n        return;\r\n      }\r\n      this.isLoading = true;\r\n      //send http request, signup\r\n      const actionPayload = { email: this.email, password: this.password };\r\n      try {\r\n        if (this.mode === 'signup') {\r\n          await this.$store.dispatch('signup', actionPayload);\r\n        } else {\r\n          await this.$store.dispatch('login', actionPayload);\r\n        }\r\n        const redirectURL =\r\n          '/find-a-coach/' + (this.$route.query.redirect || 'coaches');\r\n        this.$router.replace(redirectURL);\r\n      } catch (error) {\r\n        this.error = error.message || 'Failed to authenticate, try later.';\r\n      }\r\n      this.isLoading = false;\r\n    },\r\n    switchAuthMode() {\r\n      if (this.mode === 'login') this.mode = 'signup';\r\n      else this.mode = 'login';\r\n    },\r\n    handleError() {\r\n      this.error = null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n  margin: 1rem;\r\n  /* border: 1px solid #ccc;\r\n  border-radius: 12px; */\r\n  padding: 1rem;\r\n}\r\n\r\n.form-control {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\nlabel {\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n  display: block;\r\n}\r\n\r\ninput {\r\n  display: block;\r\n  width: 100%;\r\n  font: inherit;\r\n  border: 1px solid #ccc;\r\n  padding: 0.15rem;\r\n}\r\n\r\ninput:focus {\r\n  border-color: #3d008d;\r\n  background-color: #faf6ff;\r\n  outline: none;\r\n}\r\n</style>\r\n","import { render } from \"./UserAuth.vue?vue&type=template&id=6ee34a63&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=6ee34a63&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\熊粤\\\\PL规划\\\\Vue\\\\13-section16-main-prj-01\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6ee34a63\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserAuth.vue?vue&type=style&index=0&id=6ee34a63&scoped=true&lang=css\""],"sourceRoot":""}